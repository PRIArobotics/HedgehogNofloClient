'tcp://localhost:10789' -> endpoint Connection(hedgehog-client/Connect)

0 -> port Analog(hedgehog-client/ReadAnalogStream)

0 -> port M0(hedgehog-client/Motor)
1 -> port M1(hedgehog-client/Motor)

1000 -> delay Delay(core/RepeatDelayed)

'return x <  800 ? 0:1000;' -> function Select0(core/MakeFunction)
'return x >= 800 ? 0:1000;' -> function Select1(core/MakeFunction)

# start and stop
Connection conn -> start Analog
Connection conn -> in Delay out -> stop Analog

Connection conn -> conn Analog
Connection conn -> conn M0
Connection conn -> conn M1

Analog out -> in Select0 out -> port M0
Analog out -> in Select1 out -> port M1
Analog conn -> conn Disconnect(hedgehog-client/Disconnect)
